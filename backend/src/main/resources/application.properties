# ===================================================================================
# ? DATABASE CONFIGURATION (Neon.tech)
# ===================================================================================
spring.datasource.url=jdbc:postgresql://ep-withered-snow-agi1pqis-pooler.c-2.eu-central-1.aws.neon.tech/neondb?sslmode=require&user=neondb_owner&password=npg_fTQe6sK9SYim

# ===================================================================================
# ? HIBERNATE SETTINGS
# ===================================================================================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.show-sql=true

# ===================================================================================
# ? SECURITY SETTINGS
# ===================================================================================
jwt.secret=MyUltraSuperSecretKeyThatIsDefinitleyLongEnoughAndSecureForJWT123456!

app.alphavantage.key=VWRP5281461OBKY6

# ===================================================================================
# ? DATABASE CONNECTION STABILITY (Neon Optimized)
# ===================================================================================
# Neon closes idle connections after 5 minutes (300,000ms).
# We set ours to 3 minutes (180,000ms) so we close them first.
spring.datasource.hikari.max-lifetime=180000

# Ping the database every 45 seconds to keep the connection "hot".
spring.datasource.hikari.keepalive-time=45000

# Wait max 30 seconds for a connection before giving up.
spring.datasource.hikari.connection-timeout=30000

# Reduce pool size to respect Neon Free Tier limits.
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=1