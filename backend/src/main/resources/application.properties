# ===================================================================================
# ?? DATABASE CONFIGURATION (Neon.tech)
# ===================================================================================

# I have converted your screenshot string into this Java format.
# It includes the User (neondb_owner) and Password (npg_fTQe6sK9SYim) directly.
spring.datasource.url=jdbc:postgresql://ep-withered-snow-agi1pqis-pooler.c-2.eu-central-1.aws.neon.tech/neondb?sslmode=require&user=neondb_owner&password=npg_fTQe6sK9SYim

# ===================================================================================
# ?? HIBERNATE SETTINGS
# ===================================================================================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.show-sql=true

# ===================================================================================
# ? SECURITY SETTINGS
# ===================================================================================
jwt.secret=MyUltraSuperSecretKeyThatIsDefinitleyLongEnoughAndSecureForJWT123456!

app.alphavantage.key=VWRP5281461OBKY6

resend.api.key=${RESEND_API_KEY:re_dev_123}

# --- EMAIL CONFIGURATION (Ready for Phase 3) ---
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=nhlamhlongo.work@gmail.com
spring.mail.password=mbgm syxs fgde sapd
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# --- Database Connection Stability (Fixes Hikari Pool Errors) ---
# Maximum time a connection can live (set to 10 minutes)
spring.datasource.hikari.max-lifetime=600000

# Time to wait for a connection before giving up (20 seconds)
spring.datasource.hikari.connection-timeout=20000

# Kill idle connections after 5 minutes to free up resources
spring.datasource.hikari.idle-timeout=300000

# Keep a small pool to prevent "too many clients" errors on Neon free tier
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2